CREATE TABLE Artist (
    artistId    VARCHAR(100) NOT NULL,
    name        VARCHAR(100) NOT NULL,
    url         VARCHAR(200) NOT NULL,
    iconUrl     VARCHAR(200) NOT NULL,
    PRIMARY KEY (artistId)
);

CREATE TABLE User (
    userId         VARCHAR(100) NOT NULL,
    accessToken    VARCHAR(200) NOT NULL,
    tokenType      VARCHAR(20) NOT NULL,
    refreshToken   VARCHAR(200) NOT NULL,
    expiry         DATETIME     NOT NULL,
    PRIMARY KEY (userId)
);

CREATE TABLE ListenTo (
    listenId   INT             NOT NULL AUTO_INCREMENT,
    userId     VARCHAR(100)    NOT NULL,
    artistId   VARCHAR(100)    NOT NULL,
    timestamp   DATETIME        NOT NULL,
    PRIMARY KEY (listenId),
    FOREIGN KEY (userId) REFERENCES User(userId) ON DELETE CASCADE,
    FOREIGN KEY (artistId) REFERENCES Artist(artistId) ON DELETE CASCADE
);